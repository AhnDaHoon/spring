<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link th:href="@{/css/contents.css}" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script type="text/javascript">
function login(){
	var id = 0;
	if(document.getElementById("id").value.trim().length == 0){
		alert("아이디를 입력하세요.");
		return;
	}else if(document.getElementById("password").value.trim().length == 0){
		alert("비밀번호를 입력하세요.");
		return;
	}
	
	const formData = $("#loginForm").serialize();
	const settings = {
			"url": "/user/login",
			"method": "POST",
			"data": formData
		};
	
	$.ajax(settings)
	.done(function (response) {
	$("form").submit();
	})
	.fail(function(error) {
		alert(error.responseText);

	})	
	
}

</script>
</head>
<body>
	<div class="center-div" style="margin-left: 300px;">
		<div style="margin-left: 400px;">
			<h1>로그인</h1>
		</div>
		<div>
			<form action="/user/move-main" method="GET" id="loginForm">
			  <div class="mb-3">
			    <label for="exampleInputEmail1" class="form-label">아이디</label>
			    <input type="email" class="form-control" name="id" id="id" aria-describedby="emailHelp">
			  </div>
			  <div class="mb-3">
			    <label for="exampleInputPassword1" class="form-label">비밀번호</label>
			    <input type="password" class="form-control" name="password" id="password">
			  </div>
			  <button type="button" class="btn btn-primary" style="margin-top: 10px;" onclick="login()">로그인</button>
				<input type="submit" id="send123" value="" style="display: none;" />
			</form>
			<div style="margin-top: 10px;">
				<a href="/user/find">아이디/비밀번호 찾기</a>
				<a href="/user/signup">회원가입</a>
			</div>
		</div>
	</div>
</body>
</html>